<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nowace | Portfolyo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="background" id="bg"></div>

    <div class="main-wrapper">
        <div class="content-side">
            <div class="profile-container anim-pop-in">
                <img src="https://media1.tenor.com/m/x3Wn5-xL2BIAAAAC/samurai-jack.gif" alt="Nowace Logo" class="profile-gif">
            </div>
            
            <h1 class="anim-slide-down">NOWACE</h1>
            
            <div class="typing-wrapper anim-fade-up">
                <span id="typing-text"></span><span class="cursor">|</span>
            </div>

            <div class="links-container">
                <a href="discord.html" class="btn anim-fade-up">Discord: nowacee</a>
                <a href="#" class="btn anim-fade-up">Projelerim</a>
            </div>
        </div>

        <div class="visual-side anim-fade-up">
            <div class="animation-window">
                <div class="ball-container active">
                    <div class="cyber-ball"></div>
                    <div class="cyber-ball-glow"></div>
                </div>
                <canvas id="matrix-canvas" class="matrix-container"></canvas>
            </div>
        </div>
    </div>

    <script>
        const bg = document.getElementById('bg');
        for (let i = 0; i < 50; i++) {
            let star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            let size = Math.random() * 3;
            star.style.width = size + 'px';
            star.style.height = size + 'px';
            star.style.animationDuration = (Math.random() * 5 + 3) + 's';
            star.style.animationDelay = (Math.random() * 5) + 's';
            bg.appendChild(star);
        }

        const textElement = document.getElementById('typing-text');
        const texts = ["Geliştirici.", "Tasarım Meraklısı.", "Teknoloji Tutkunu.", "nowacee"];
        let textIndex = 0, charIndex = 0, isDeleting = false, isWaiting = false;

        function type() {
            const currentText = texts[textIndex];
            if (isWaiting) { setTimeout(() => { isWaiting = false; isDeleting = true; type(); }, 2000); return; }
            if (isDeleting) { textElement.textContent = currentText.substring(0, charIndex - 1); charIndex--; }
            else { textElement.textContent = currentText.substring(0, charIndex + 1); charIndex++; }
            let typeSpeed = isDeleting ? 50 : 100;
            if (!isDeleting && charIndex === currentText.length) isWaiting = true;
            else if (isDeleting && charIndex === 0) { isDeleting = false; textIndex = (textIndex + 1) % texts.length; typeSpeed = 500; }
            setTimeout(type, typeSpeed);
        }
        setTimeout(type, 1500);

        const ballContainer = document.querySelector('.ball-container');
        const matrixCanvas = document.getElementById('matrix-canvas');
        const ctx = matrixCanvas.getContext('2d');
        let w, h, columns, drops;
        const matrixChars = "NOWACE01GITHUBPROJECTSDISCORD<>//{}[]";
        
        function resizeCanvas() {
            w = matrixCanvas.width = matrixCanvas.parentElement.offsetWidth;
            h = matrixCanvas.height = matrixCanvas.parentElement.offsetHeight;
            columns = Math.floor(w / 20);
            drops = [];
            for (let i = 0; i < columns; i++) drops[i] = Math.random() * -h;
        }
        resizeCanvas(); window.addEventListener('resize', resizeCanvas);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, w, h);
            ctx.fillStyle = '#00ffcc';
            ctx.font = '15px monospace';
            for (let i = 0; i < drops.length; i++) {
                const text = matrixChars[Math.floor(Math.random() * matrixChars.length)];
                ctx.fillText(text, i * 20, drops[i] * 20);
                if (drops[i] * 20 > h && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }

        let matrixInterval;
        let animationState = 'ball';

        function loopAnimation() {
            if (animationState === 'ball') {
                setTimeout(() => {
                    ballContainer.classList.remove('active');
                    setTimeout(() => {
                        matrixCanvas.classList.add('active');
                        matrixInterval = setInterval(drawMatrix, 50);
                        animationState = 'matrix';
                        loopAnimation();
                    }, 500);
                }, 4000);
            } else if (animationState === 'matrix') {
                setTimeout(() => {
                    clearInterval(matrixInterval);
                    ctx.clearRect(0, 0, w, h);
                    matrixCanvas.classList.remove('active');
                    setTimeout(() => {
                        ballContainer.classList.add('active');
                        animationState = 'ball';
                        loopAnimation();
                    }, 500);
                }, 5000);
            }
        }
        setTimeout(loopAnimation, 2000);
    </script>
</body>
</html>